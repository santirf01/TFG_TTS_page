<!DOCTYPE html>
<html>
<head>
    <title>Albayzin</title>
    <style>
        h2 {
            border-bottom: 2px solid #ffcc80; /* Línea de subrayado en naranja claro */
            display: inline-block; /* Para que el ancho de la línea se ajuste al texto */
            padding-bottom: 5px; /* Espacio entre el texto y la línea de subrayado */
        }
         table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }

        audio {
            width: 100%;
        }

     .button_circ {
            background-color: #ccc; /* Color de fondo gris */
            color: black;
            border: none; /* Quitamos el borde */
            width: 20px; /* Ancho del botón */
            height: 20px; /* Altura del botón */
            border-radius: 50%; /* Hacemos que sea un círculo */
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

    .button_circ.active {
            background-color: #ffa726;
            font-size: 8px;
            transform: scale(1.1);
        }
    .box {
      border: 1px solid black;
      padding: 5px;
      text-align: center;
      width: 150px;
    }
    
    .table-box {
      display: flex;
      flex-wrap: wrap;
    }
    .audio-small {
      width: 140px;
    }
    .audio-big{
      width: 600px;
    }
    .boton-rectangular {
      display: inline-block;
      padding: 10px 20px;
      border: 2px solid #333;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      text-align: center;
    }

    /* Estilos para el tick (inicialmente oculto) */
    .tick {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      font-size: 20px;
      color: green;
    }

    /* Estilos para el botón con el tick activado */
    .boton-rectangular:checked .tick {
      display: block;
    }
    .box.big {
      background-color: #f2f2f2; 
    }
    </style>
</head>
<body>
    <!-- Título h2 subrayado -->
    <h2>Albayzin</h2>
    <h2>Selecciona a una persona:</h2>
    <select id="speakerSelect" onchange="loadContent(this.value)">
        <option value=''>216Speakers</option>
        <option value='https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Tabla_Audios_aa.html'>aa</option>
        <<option value='https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Tabla_Audios_ab.html'>ab</option>
        <option value='https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Tabla_Audios_ma.html'>ma</option>
        <option value='https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Tabla_Audios_mb.html'>mb</option>
        <option value='https://santirf01.github.io/TFG_TTS_page.io/Albayzin/index.html'>Return</option> 

    </select>
     <div id="contenido">
    </div>
<table id ='tableAlbayzin216'>
  <tr>
    <td colspan="8" class="box big">Elección de las 216 personas Albayzin</td>
  </tr>
  <tr>
    <td colspan="8"> <select id="selectSpeakers216Albayzin" onchange="loadAudiosAlbayzin216Speakers(this.value)">
	    </select>
     <div id="contenido">
	     
    </div>
    </td>
  </tr>
  <tr>
    <td rowspan="2" colspan="3" class="box big">Audio original</td>
    <td colspan="5"  class="box big">Sintetizado</td>
  </tr>
  <tr>
    <td  class="box big">001</td>
    <td  class="box big">002</td>
    <td  class="box big">003</td>
    <td  class="box big">004</td>
    <td  class="box big">005</td>
  </tr>
  <tr>
    <td colspan="3"><audio class="audio-button audio-small" controls id="audioPlayerOriginales"> Tu navegador no soporta el elemento de audio.</audio></td>
    <td><audio class="audio-button audio-small" controls id="audioPlayerSintetizados1"> Tu navegador no soporta el elemento de audio.</audio></td>
    <td><audio class="audio-button audio-small" controls id="audioPlayerSintetizados2"> Tu navegador no soporta el elemento de audio.</audio></td>
    <td><audio class="audio-button audio-small" controls id="audioPlayerSintetizados3"> Tu navegador no soporta el elemento de audio.</audio></td>
    <td><audio class="audio-button audio-small" controls id="audioPlayerSintetizados4"> Tu navegador no soporta el elemento de audio.</audio></td>
    <td><audio class="audio-button audio-small" controls id="audioPlayerSintetizados5"> Tu navegador no soporta el elemento de audio.</audio></td>
  </tr>
  <tr>
    <td class="box big"  rowspan="2" colspan="3">PREGUNTA</td>
    <td colspan="5" class="box big"">RESULTADO</td>
  </tr>
  <tr>
    <td>0</td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>4</td>
    <td>5</td>
  </tr>
    <!-- La función enviar respuesta es igual en los dos -->
  <tr>
    <td class="similitud" colspan="3">¿La voz es similar en ambos audios? Similitud</td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 0)"></button> </td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 1)"></button> </td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 2)"></button> </td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 3)"></button> </td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 4)"></button> </td>
    <td> <button class="button_circ pregunta1" onclick="enviarRespuestaAlbayzin('pregunta1', 5)"></button> </td>
  </tr>
  <tr>
    <td class="calidad" colspan="3">¿Que tal se entiende lo que dice, es de buena calidad el audio? Inteligibilidad y Calidad</td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 0)"></button> </td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 1)"></button> </td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 2)"></button> </td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 3)"></button> </td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 4)"></button> </td>
    <td> <button class="button_circ pregunta2" onclick="enviarRespuestaAlbayzin('pregunta2', 5)"></button> </td>
  </tr>
</table>
<script> 
    function enviarRespuestaAlbayzin(pregunta, respuesta) {
          // Lógica para guardar las respuestas en variables o en algún objeto, según necesites
          console.log("Pregunta:", pregunta, "Respuesta:", respuesta);
        
          // Resaltar el botón pulsado en la fila de respuesta correspondiente
          if (pregunta === 'pregunta1') {
            var buttons = document.querySelectorAll(".button_circ.pregunta1");
            buttons.forEach(button => button.classList.remove("active"));
            buttons[respuesta].classList.add("active");
          } else if (pregunta === 'pregunta2') {
            var buttons = document.querySelectorAll(".button_circ.pregunta2");
            buttons.forEach(button => button.classList.remove("active"));
            buttons[respuesta].classList.add("active");
          }
    }
    function loadAudiosAlbayzin216Speakers(value) {
	var audioPlayerOriginales = document.getElementById("audioPlayerOriginales");
	var audioPlayerSintetizados1 = document.getElementById("audioPlayerSintetizados1");
	var audioPlayerSintetizados2 = document.getElementById("audioPlayerSintetizados2");
        var audioPlayerSintetizados3 = document.getElementById("audioPlayerSintetizados3");
        var audioPlayerSintetizados4 = document.getElementById("audioPlayerSintetizados4");
        var audioPlayerSintetizados5 = document.getElementById("audioPlayerSintetizados5");
	// Si no se ha seleccionado ninguna opción, ocultar ambos audios
	if (!value) {
		audioPlayerOriginales.pause();
	        audioPlayerOriginales.src = "";
	        audioPlayerSintetizados1.pause();
	        audioPlayerSintetizados1.src = "";
            	audioPlayerSintetizados2.pause();
	        audioPlayerSintetizados2.src = "";
            	audioPlayerSintetizados3.pause();
	        audioPlayerSintetizados3.src = "";
            	audioPlayerSintetizados4.pause();
	        audioPlayerSintetizados4.src = "";
            	audioPlayerSintetizados5.pause();
	        audioPlayerSintetizados5.src = "";
	        return;
      	     }

      // Construir las URLs de los audios Originales y Sintetizados
      var audioSrcOriginales = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Originales/216Speaker/" + value + "_original.wav";
      var audioSrcSintetizados1 = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Sintetizados/216speakers/" +value+ "/" + value + "_fa000.wav";
      var audioSrcSintetizados2 = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Sintetizados/216speakers/" +value+ "/" + value + "_fa001.wav";
      var audioSrcSintetizados3 = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Sintetizados/216speakers/" +value+ "/" + value + "_fa002.wav";
      var audioSrcSintetizados4 = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Sintetizados/216speakers/" +value+ "/" + value + "_fa003.wav";
      var audioSrcSintetizados5 = "https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Sintetizados/216speakers/" +value+ "/" + value + "_fa004.wav";

      // Cargar y reproducir el audio Originales
      audioPlayerOriginales.src = audioSrcOriginales;
      audioPlayerOriginales.load();


      // Cargar y reproducir el audio Sintetizados
      audioPlayerSintetizados1.src = audioSrcSintetizados1;
      audioPlayerSintetizados1.load();
      audioPlayerSintetizados2.src = audioSrcSintetizados2;
      audioPlayerSintetizados2.load();
      audioPlayerSintetizados3.src = audioSrcSintetizados3;
      audioPlayerSintetizados3.load();
      audioPlayerSintetizados4.src = audioSrcSintetizados4;
      audioPlayerSintetizados4.load();
      audioPlayerSintetizados5.src = audioSrcSintetizados5;
      audioPlayerSintetizados5.load();
	}
     function cargar216Speakers() {
      // Cargar el JSON desde el archivo "data.json"
      fetch('https://santirf01.github.io/TFG_TTS_page.io/Albayzin/Audios/Speakers_Albayzin.json')
        .then(response => response.json())
        .then(data => {
          // Obtén el elemento select por su id
          var select = document.getElementById("selectSpeakers216Albayzin");

          // Recorre el JSON y crea las opciones del select
          data.forEach(function(speaker) {
          var option = document.createElement("option");
            option.value = speaker.value;
            option.text = speaker.text;
            select.appendChild(option);
	});
        })
        .catch(error => {
          console.error("Error al cargar el JSON:", error);
        });
    }
    document.addEventListener('DOMContentLoaded', function() {
      cargar216Speakers();
    });
</script>
</body>
</html>
