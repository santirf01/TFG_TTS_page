<!DOCTYPE html>
<html>
<head>
    <title>Thalento</title>
    <style>
        h2 {
            border-bottom: 2px solid #ffcc80; /* Línea de subrayado en naranja claro */
            display: inline-block; /* Para que el ancho de la línea se ajuste al texto */
            padding-bottom: 5px; /* Espacio entre el texto y la línea de subrayado */
        }
    </style>
</head>
<body>
    <!-- Título h2 subrayado -->
    <h2>Thalento</h2>
</body>
</html>

<html>

<body>
    <br>
    <h2>Selecciona una persona:</h2>
    <select id="speakerSelect" onchange="mostrarSeleccion()">
        <option value="">Selecciona un speaker</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0001/index.html')">TVD-D-0001</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0002/index.html')">TVD-D-0002</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0003/index.html')">TVD-D-0003</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0005/index.html')">TVD-D-0005</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0006/index.html')">TVD-D-0006</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0007/index.html')">TVD-D-0007</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0008/index.html')">TVD-D-0008</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0009/index.html')">TVD-D-0009</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0010/index.html')">TVD-D-0010</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0011/index.html')">TVD-D-0011</option>
        <option value="loadContent('Thalento/Audios/TVD-D-0012/index.html')">TVD-D-0012</option>
        <option value="loadContent('Thalento/Audios/TVD-D-00013/index.html')">TVD-D-0013</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0002/index.html')">TVD-P-0002</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0003/index.html')">TVD-P-0003</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0004/index.html')">TVD-P-0004</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0005/index.html')">TVD-P-0005</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0006/index.html')">TVD-P-0006</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0007/index.html')">TVD-P-0007</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0008/index.html')">TVD-P-0008</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0009/index.html')">TVD-P-0009</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0010/index.html')">TVD-P-0010</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0011/index.html')">TVD-P-0011</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0012/index.html')">TVD-P-0012</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0013/index.html')">TVD-P-0013</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0014/index.html')">TVD-P-0014</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0015/index.html')">TVD-P-0015</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0016/index.html')">TVD-P-0016</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0017/index.html')">TVD-P-0017</option>
        <option value="loadContent('Thalento/Audios/TVD-P-0019/index.html')">TVD-P-0019</option>
    </select>
    
    
    <h2>Selecciona un audio:</h2>
    <select id="audioSelect" onchange="guardarAudio()">
        <option value="">Selecciona un audio</option>
        <!-- Aquí se cargarán las opciones de los audios del speaker seleccionado -->
    </select>

    <p id="mostrarSeleccion">Ningún speaker seleccionado</p>

    <h2>Contenido de audios.json:</h2>
    <div id="contenidoAudiosJSON">
        <!-- Aquí se mostrará el contenido del archivo audios.json -->
    </div>
    <script>
            function loadContent(url) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    var contenidoDiv = document.getElementById("contenido");
                    contenidoDiv.innerHTML = data;

                    // Cambiar el estilo del botón pulsado
                    var buttons = document.getElementsByClassName("button");
                    for (var i = 0; i < buttons.length; i++) {
                        buttons[i].classList.remove("active");
                    }
                    var button = document.querySelector(`[onclick="loadContent('${url}')"]`);
                    button.classList.add("active");
                })
                .catch(error => {
                    console.error("Error:", error);
                });
        }
    </script>
    <!
         var audioSeleccionado = ""; // Variable global para almacenar el valor del audio seleccionado
        var audiosDelSpeaker = []; // Variable global para almacenar los audios del speaker seleccionado

        // Función para mostrar el speaker seleccionado
        function mostrarSeleccion() {
            var speakerSelect = document.getElementById("speakerSelect");
            var mostrarSeleccion = document.getElementById("mostrarSeleccion");
            var seleccion = speakerSelect.value;

            if (seleccion === "") {
                mostrarSeleccion.textContent = "Ningún speaker seleccionado";
            } else {
                mostrarSeleccion.textContent = "Speaker seleccionado: " + seleccion;
            }
        }
         // Función para cargar el contenido de audios.json
         function cargarAudiosJSON() {
            var speakerSelect = document.getElementById("speakerSelect");
            var seleccion = speakerSelect.value;

            if (seleccion === "") {
                // Si no se ha seleccionado ningún speaker, limpiamos el contenido de los desplegables
                var audioSelect = document.getElementById("audioSelect");
                audioSelect.innerHTML = '<option value="">Selecciona un audio</option>';

                var otroAudioSelect = document.getElementById("otroAudioSelect");
                otroAudioSelect.innerHTML = '<option value="">Selecciona otro audio</option>';

                var contenidoDiv = document.getElementById("contenidoAudiosJSON");
                contenidoDiv.innerHTML = "";

                audioSeleccionado = "";
                audiosDelSpeaker = [];
            } else {
                var url = "Thalento/Audios/" + seleccion + "/audios.json";

                // Realizar la solicitud fetch para leer el contenido de audios.json
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        // Mostrar el contenido del archivo audios.json en el div
                        var contenidoDiv = document.getElementById("contenidoAudiosJSON");
                        contenidoDiv.innerHTML = "<pre>" + JSON.stringify(data, null, 2) + "</pre>";

                        // Almacenar los audios del speaker seleccionado en la variable audiosDelSpeaker
                        audiosDelSpeaker = data;

                        // Limpiar y cargar las opciones de los audios del speaker seleccionado en el primer desplegable
                        var audioSelect = document.getElementById("audioSelect");
                        audioSelect.innerHTML = '<option value="">Selecciona un audio</option>';
                        data.forEach(function(audio) {
                            var option = document.createElement("option");
                            option.value = audio;
                            option.textContent = audio;
                            audioSelect.appendChild(option);
                        });

                        // Limpiar el segundo desplegable
                        var otroAudioSelect = document.getElementById("otroAudioSelect");
                        otroAudioSelect.innerHTML = '<option value="">Selecciona otro audio</option>';
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            }
        }
        function guardarAudio() {
            var audioSelect = document.getElementById("audioSelect");
            var rutaAudio = "Thalento/Audios/" + audioSeleccionado;
            audioSeleccionado = audioSelect.value;
            console.log("Audio seleccionado:", audioSeleccionado); // Solo para mostrar el valor en la consola (puedes eliminar esta línea)
        }
    -->
</body>
</html>
<html>
    <body>
       
    <h2>Encuesta</h2>
    <table>
         <tr>
            <th rowspan="2">Audio</th>
            <th rowspan="2">Pregunta</th>
            <th colspan="6">Respuesta</th>
        </tr>
        <tr>
           <!-- <td></td> -->
            <th> 0 </th>
            <th> 1 </th>
            <th> 2 </th>
            <th> 3 </th>
            <th> 4 </th>
            <th> 5 </th>
        </tr>
        <tr>
            <td rowspan="2">
                <audio controls>
                    <source src=rutaAudio type="audio/wav" autoplay="">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </td>
            <td>¿El audio suena a una voz natural? Calidad</td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 0)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 1)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 2)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 3)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 4)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 5)"></button> </td>
            </tr>
            <tr>
            <td>¿Se entiende lo que dice? Inteligibilidad</td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 0)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 1)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 2)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 3)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 4)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 5)"></button>  </td>
        </tr>
        <!-- Agrega más filas de preguntas aquí -->
    </table>

    <script>
        function enviarRespuesta(pregunta, respuesta) {
            fetch("http://dihana.cps.unizar.es/encuestatts/guardar_encuesta.php", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    pregunta: pregunta,
                    respuesta: respuesta
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                // Aquí puedes mostrar un mensaje de agradecimiento o redireccionar a otra página
            })
            .catch(error => {
                console.error("Error:", error);
            });
        }
    </script>

</body>
</html>
