<!DOCTYPE html>
<html>
<head>
    <title>Thalento</title>
    <style>
        h2 {
            border-bottom: 2px solid #ffcc80; /* Línea de subrayado en naranja claro */
            display: inline-block; /* Para que el ancho de la línea se ajuste al texto */
            padding-bottom: 5px; /* Espacio entre el texto y la línea de subrayado */
        }
    </style>
</head>
<body>
    <!-- Título h2 subrayado -->
    <h2>Thalento</h2>
</body>
</html>

<html>
<head>
    <title>Desplegable de Speaker y Audio</title>
</head>
<body>
    <h2>Selecciona una persona:</h2>
    <select id="speakerSelect" onchange="cargarAudiosJSON()"">
        <option value="">Selecciona una persona</option>
    </select>
    
    <h2>Selecciona un audio:</h2>
    <select id="audioSelect" onchange="guardarSeleccionAudio()">
        <option value="">Selecciona un audio</option>
        <!-- Aquí se cargarán las opciones de los audios del speaker seleccionado -->
    </select>
    <script>
        // Array de speakers
        var speakers = ["TVD-D-0001","TVD-D-0002","TVD-D-0003","TVD-D-0005","TVD-D-0006","TVD-D-0007","TVD-D-0008","TVD-D-0009","TVD-D-0010","TVD-D-0011","TVD-D-0012","TVD-D-0013","TVD-P-0002","TVD-P-0003","TVD-P-0004","TVD-P-0005","TVD-P-0006","TVD-P-0007","TVD-P-0008","TVD-P-0009","TVD-P-0010","TVD-P-0011","TVD-P-0012","TVD-P-0013","TVD-P-0014","TVD-P-0015","TVD-P-0016","TVD-P-0017","TVD-P-0019"];

        // Obtener el elemento select del desplegable
        var speakerSelect = document.getElementById("speakerSelect");

        // Agregar opciones al desplegable con los nombres de los speakers
        speakers.forEach(function(speaker) {
            var option = document.createElement("option");
            option.value = speaker;
            option.textContent = speaker;
            speakerSelect.appendChild(option);
        });


        function cargarAudiosJSON() {
            var speakerSeleccionado = speakerSelect.value;

            if (speakerSeleccionado) {
                var url = "Thalento/Audios/" + speakerSeleccionado + "/audios.json";

                // Realizar la solicitud fetch para leer el contenido de audios.json
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        // Convertir el objeto JSON a una cadena formateada para mostrarlo en el div
                        var contenidoDiv = document.getElementById("contenidoAudiosJSON");
                        contenidoDiv.textContent = JSON.stringify(data, null, 2);
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            } else {
                // Si no se ha seleccionado ningún speaker, limpiar el contenido del div
                var contenidoDiv = document.getElementById("contenidoAudiosJSON");
                contenidoDiv.textContent = "";
            }
        }
        // Función para guardar la opción seleccionada del audio
        function guardarSeleccionAudio() {
            var audioSeleccionado = audioSelect.value;
             var rutaAudio = "Thalento/Audios/" + audioSeleccionado.textContent;
            console.log("Audio seleccionado:", audioSeleccionado);
            // Aquí puedes realizar alguna acción con el audio seleccionado, como guardar el nombre en una variable o reproducirlo, etc.
        }
    </script>
</body>



<!--
    <script>
        function cargarCarpetas() {
            var select = document.getElementById("speakerSelect");
            var speakerSeleccionado = select.value;

            var audioSelect = document.getElementById("audioSelect");
            audioSelect.innerHTML = '<option value="">Selecciona un Audio</option>'; // Limpiamos las opciones previas

            if (speakerSeleccionado) {
                fetch('Thalento/Audios/'+speakerSeleccionado + '/audios.json') // Suponiendo que tengas un archivo audios.json en cada carpeta speaker que contenga la lista de audios
                    .then(response => response.json())
                    .then(data => {
                        data.forEach(audio => {
                            var option = document.createElement('option');
                            option.value = speakerSeleccionado + '/' + audio;
                            option.text = audio;
                            audioSelect.appendChild(option);
                        });
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            } else {
                Si no se ha seleccionado ningún speaker, limpiamos las opciones del desplegable de audio
                audioSelect.innerHTML = '<option value="">Selecciona un Audio</option>';
                var contenidoDiv = document.getElementById("contenidoAudio");
                contenidoDiv.innerHTML = "";
            }
        }
 
  
    <script>
        function cargarAudio() {
            var audioSelect = document.getElementById("audioSelect");
            var audioSeleccionado = audioSelect.value;

            if (audioSeleccionado) {
                fetch(audioSeleccionado)
                    .then(response => response.text())
                    .then(data => {
                        var contenidoDiv = document.getElementById("contenidoAudio");
                        contenidoDiv.innerHTML = "<pre>" + data + "</pre>";
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            } else {
                // Si no se ha seleccionado ningún audio, limpiamos el contenido del div
                var contenidoDiv = document.getElementById("contenidoAudio");
                contenidoDiv.innerHTML = "";
            }
        }
       -->
    <body>
       
    <h2>Encuesta</h2>
    <table>
         <tr>
            <th rowspan="2">Audio</th>
            <th rowspan="2">Pregunta</th>
            <th colspan="6">Respuesta</th>
        </tr>
        <tr>
           <!-- <td></td> -->
            <th> 0 </th>
            <th> 1 </th>
            <th> 2 </th>
            <th> 3 </th>
            <th> 4 </th>
            <th> 5 </th>
        </tr>
        <tr>
            <td rowspan="2">
                <audio controls>
                    <source src=rutaAudio type="audio/wav" autoplay="">
                    Tu navegador no soporta el elemento de audio.
                </audio>
            </td>
            <td>¿El audio suena a una voz natural? Calidad</td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 0)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 1)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 2)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 3)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 4)"></button> </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta1', 5)"></button> </td>
            </tr>
            <tr>
            <td>¿Se entiende lo que dice? Inteligibilidad</td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 0)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 1)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 2)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 3)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 4)"></button>  </td>
            <td> <button class="button_circ" onclick="enviarRespuesta('pregunta2', 5)"></button>  </td>
        </tr>
        <!-- Agrega más filas de preguntas aquí -->
    </table>

    <script>
        function enviarRespuesta(pregunta, respuesta) {
            fetch("guardar_respuesta.php", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    pregunta: pregunta,
                    respuesta: respuesta
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                // Aquí puedes mostrar un mensaje de agradecimiento o redireccionar a otra página
            })
            .catch(error => {
                console.error("Error:", error);
            });
        }
    </script>
</body>
    </script>
<!--
        <script>
        // Cargar el contenido del archivo JSON
        fetch('datos.json')
            .then(response => response.json())
            .then(data => {
                var opcionesSelect = document.getElementById("opcionesSelect");

                // Iterar a través de las opciones del JSON y crear las opciones en el desplegable
                data.opciones.forEach(function(opcion) {
                    var option = document.createElement("option");
                    option.value = opcion;
                    option.textContent = opcion;
                    opcionesSelect.appendChild(option);
                });
            })
            .catch(error => {
                console.error("Error:", error);
            });
    </script>
          -->
</body>
</html>
